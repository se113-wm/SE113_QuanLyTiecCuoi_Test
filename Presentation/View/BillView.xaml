<Window 
    x:Class="QuanLyTiecCuoi.Presentation.View.BillView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:helper="clr-namespace:QuanLyTiecCuoi.BusinessLogicLayer.Helpers"
    xmlns:local="clr-namespace:QuanLyTiecCuoi.Presentation.ViewModel"
    xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
    Name="HoaDon"
    Title="Hóa Đơn"
    Width="1200"
    Height="720"
    WindowStartupLocation="Manual">
    <Grid>
        <Grid Margin="10">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>
            <TextBlock
                Grid.Row="0"
                Margin="0,0,0,0"
                HorizontalAlignment="Center"
                FontSize="24"
                FontWeight="Bold"
                Text="Hóa Đơn" />
            <materialDesign:Card
                Grid.Row="1"
                Margin="0,0,0,10"
                Padding="0">
                <StackPanel>
                    <StackPanel
                        Margin="0,0,0,0"
                        VerticalAlignment="Center"
                        Orientation="Horizontal">
                        <TextBlock
                            VerticalAlignment="Center"
                            FontSize="16"
                            FontWeight="Bold"
                            Text="Chi tiết hóa đơn" />
                    </StackPanel>
                </StackPanel>
            </materialDesign:Card>

            <!--  Nút & tìm kiếm  -->
            <materialDesign:Card
                Grid.Row="2"
                Margin="10"
                Padding="10"
                BorderThickness="0.5">
                <StackPanel>
                    <TextBlock
                        Margin="0,0,10,0"
                        FontSize="14"
                        FontWeight="Bold"
                        Text="Thao tác" />
                    <DockPanel VerticalAlignment="Top" LastChildFill="False">
                        <!--  Tìm kiếm  -->
                        <StackPanel
                            VerticalAlignment="Top"
                            DockPanel.Dock="Left"
                            Orientation="Horizontal">
                            <ComboBox
                                Width="200"
                                Margin="5"
                                materialDesign:HintAssist.Hint="Tìm theo"
                                ItemsSource="{Binding SearchProperties}"
                                SelectedItem="{Binding SelectedSearchProperty, Mode=TwoWay}"
                                Style="{StaticResource MaterialDesignOutlinedComboBox}" />
                            <TextBox
                                Width="300"
                                Margin="5"
                                materialDesign:HintAssist.Hint="Tìm kiếm..."
                                Style="{StaticResource MaterialDesignOutlinedTextBox}"
                                Text="{Binding SearchText, UpdateSourceTrigger=PropertyChanged, Converter={StaticResource CurrencyFormatConverter}}" />
                        </StackPanel>

                        <StackPanel
                            Margin="0,0,0,0"
                            HorizontalAlignment="Stretch"
                            VerticalAlignment="Top"
                            DockPanel.Dock="Right"
                            Orientation="Horizontal">
                            <StackPanel Width="110" Margin="0,0,20,0">
                                <Button
                                    Width="100"
                                    Margin="5"
                                    Command="{Binding ExportCommand}"
                                    Content="Xuất PDF"
                                    Style="{StaticResource MaterialDesignRaisedButton}" />
                            </StackPanel>
                        </StackPanel>
                    </DockPanel>
                </StackPanel>
            </materialDesign:Card>

            <materialDesign:Card
                Grid.Row="3"
                Margin="10"
                Padding="5"
                VerticalAlignment="Stretch"
                BorderThickness="0.5">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="*" />
                    </Grid.RowDefinitions>

                    <TextBlock
                        Grid.Row="0"
                        Margin="0,0,10,0"
                        FontSize="14"
                        FontWeight="Bold"
                        Text="Danh sách hóa đơn tiệc cưới" />

                    <ListView
                        Grid.Row="1"
                        Margin="0"
                        VerticalAlignment="Stretch"
                        HorizontalContentAlignment="Left"
                        ItemsSource="{Binding List, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                        SelectedItem="{Binding SelectedItem, Mode=TwoWay}">
                        <ListView.View>
                            <GridView>
                                <!--  Icon  -->
                                <GridViewColumn Width="50">
                                    <GridViewColumn.HeaderTemplate>
                                        <DataTemplate>
                                            <TextBlock Text="" />
                                        </DataTemplate>
                                    </GridViewColumn.HeaderTemplate>
                                    <GridViewColumn.CellTemplate>
                                        <DataTemplate>
                                            <materialDesign:PackIcon
                                    Width="24"
                                    Height="24"
                                    HorizontalAlignment="Left"
                                    VerticalAlignment="Center"
                                    Foreground="{Binding IsSelected, RelativeSource={RelativeSource AncestorType=ListViewItem}, Converter={StaticResource BoolToBrushConverter}}"
                                    Kind="RadioboxMarked" />
                                        </DataTemplate>
                                    </GridViewColumn.CellTemplate>
                                </GridViewColumn>
                                <!--  Groom Name  -->
                                <GridViewColumn Width="150" Header="Tên chú rể">
                                    <GridViewColumn.CellTemplate>
                                        <DataTemplate>
                                            <TextBlock
                                    Margin="20,0,0,0"
                                    HorizontalAlignment="Left"
                                    Text="{Binding TenChuRe}"
                                    TextAlignment="Left" />
                                        </DataTemplate>
                                    </GridViewColumn.CellTemplate>
                                </GridViewColumn>
                                <!--  Bride Name  -->
                                <GridViewColumn Width="150" Header="Tên cô dâu">
                                    <GridViewColumn.CellTemplate>
                                        <DataTemplate>
                                            <TextBlock
                                    Margin="20,0,0,0"
                                    HorizontalAlignment="Left"
                                    Text="{Binding TenCoDau}"
                                    TextAlignment="Left" />
                                        </DataTemplate>
                                    </GridViewColumn.CellTemplate>
                                </GridViewColumn>
                                <!--  Hall Name  -->
                                <GridViewColumn Width="150" Header="Tên sảnh">
                                    <GridViewColumn.CellTemplate>
                                        <DataTemplate>
                                            <TextBlock
                                    Margin="20,0,0,0"
                                    HorizontalAlignment="Left"
                                    Text="{Binding Sanh.TenSanh}"
                                    TextAlignment="Left" />
                                        </DataTemplate>
                                    </GridViewColumn.CellTemplate>
                                </GridViewColumn>
                                <!--  Wedding Date  -->
                                <GridViewColumn Width="150" Header="Ngày đãi tiệc">
                                    <GridViewColumn.CellTemplate>
                                        <DataTemplate>
                                            <TextBlock
                                    Margin="20,0,0,0"
                                    HorizontalAlignment="Left"
                                    Text="{Binding NgayDaiTiec, StringFormat='dd/MM/yyyy'}"
                                    TextAlignment="Left" />
                                        </DataTemplate>
                                    </GridViewColumn.CellTemplate>
                                </GridViewColumn>
                                <!--  Wedding Time (CA)  -->
                                <GridViewColumn Width="150" Header="Giờ đãi tiệc">
                                    <GridViewColumn.CellTemplate>
                                        <DataTemplate>
                                            <TextBlock
                                    Margin="20,0,0,0"
                                    HorizontalAlignment="Left"
                                    Text="{Binding NgayDaiTiec, StringFormat='hh:mm:ss'}"
                                    TextAlignment="Left" />
                                        </DataTemplate>
                                    </GridViewColumn.CellTemplate>
                                </GridViewColumn>
                                <!--  Table Count  -->
                                <GridViewColumn Width="150" Header="Số lượng bàn">
                                    <GridViewColumn.CellTemplate>
                                        <DataTemplate>
                                            <TextBlock
                                    Margin="20,0,0,0"
                                    HorizontalAlignment="Left"
                                    Text="{Binding SoLuongBan}"
                                    TextAlignment="Left" />
                                        </DataTemplate>
                                    </GridViewColumn.CellTemplate>
                                </GridViewColumn>
                            </GridView>
                        </ListView.View>
                    </ListView>
                </Grid>
            </materialDesign:Card>
        </Grid>
    </Grid>
</Window>
