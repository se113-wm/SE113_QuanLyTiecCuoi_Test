# Test Case TC_BR64_005

## Verify MSG48 displays when HallTypeName duplicates another hall type

| Test Case ID | Test Case Description                                                | PreRequisites                                                                                                                                              | Steps | Steps to Perform                                                                                                                                                    | Step Expected Result                                                                                                                                                  | Test Case Expected Result                                                                  | Actual Result | Status | Note |
| ------------ | -------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------- | ----- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------ | ------------- | ------ | ---- |
| TC_BR64_005  | Verify MSG48 displays when HallTypeName duplicates another hall type | 1. WMS application is installed<br>2. User is logged in (Staff/Admin)<br>3. HallTypeView is displayed in Edit mode<br>4. Hall types "A" and "B" both exist | 5     | 1. Open HallTypeView<br>2. Select "Sửa" action<br>3. Select hall type "B" from DataGrid<br>4. Change HallTypeName to "A" (duplicate)<br>5. Click EditCommand button | 1. HallTypeView displayed<br>2. Edit mode activated<br>3. Hall type "B" selected<br>4. HallTypeName changed to "A"<br>5. MSG48 duplicate validation message displayed | System displays MSG48 error when edited HallTypeName duplicates another existing hall type |               |        |      |

---

## Test Case Details

### Basic Information

| Attribute          | Value                       |
| ------------------ | --------------------------- |
| **Test Case ID**   | TC_BR64_005                 |
| **Requirement ID** | BR64                        |
| **Use Case**       | UC 2.1.3.8 - Edit Hall Type |
| **Test Type**      | Functional / Validation     |
| **Priority**       | High                        |
| **Automation**     | Manual                      |

### Test Data

| Original | Edited To | Existing | Result |
| -------- | --------- | -------- | ------ |
| B        | A         | A exists | MSG48  |
| C        | B         | B exists | MSG48  |

### Detailed Steps

| Step | Steps to Perform                       | Step Expected Result                         |
| ---- | -------------------------------------- | -------------------------------------------- |
| 1    | Open HallTypeView                      | HallTypeView displayed                       |
| 2    | Select "Sửa" action                    | Edit mode activated                          |
| 3    | Select hall type "B" from DataGrid     | Hall type "B" selected                       |
| 4    | Change HallTypeName to "A" (duplicate) | HallTypeName changed to "A"                  |
| 5    | Click EditCommand button               | MSG48 duplicate validation message displayed |

### Pass/Fail Criteria

| Criteria           | Pass                       | Fail                  |
| ------------------ | -------------------------- | --------------------- |
| Duplicate detected | ✓ Database check performed | ✗ No duplicate check  |
| MSG48 displayed    | ✓ Correct message shown    | ✗ Wrong or no message |
| Update prevented   | ✓ Database unchanged       | ✗ Duplicate created   |
