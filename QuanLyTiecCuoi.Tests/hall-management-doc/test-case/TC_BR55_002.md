# Test Case TC_BR55_002

## Verify file path validation before export

| Test Case ID | Test Case Description                     | PreRequisites                                                                   | Steps | Steps to Perform                                                                                               | Step Expected Result                                                                                             | Test Case Expected Result                                          | Actual Result | Status | Note |
| ------------ | ----------------------------------------- | ------------------------------------------------------------------------------- | ----- | -------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------ | ------------- | ------ | ---- |
| TC_BR55_002  | Verify file path validation before export | 1. WMS application is installed<br>2. User is logged in<br>3. HallList has data | 4     | 1. Click Export button<br>2. Enter invalid path or filename<br>3. Click Save on dialog<br>4. Verify validation | 1. Export initiated<br>2. Invalid path entered<br>3. Save attempted<br>4. System handles invalid path gracefully | System validates file path before attempting to create export file |               |        |      |

---

## Test Case Details

### Basic Information

| Attribute          | Value                       |
| ------------------ | --------------------------- |
| **Test Case ID**   | TC_BR55_002                 |
| **Requirement ID** | BR55                        |
| **Use Case**       | UC 2.1.3.5 - Export Halls   |
| **Test Type**      | Validation / Error Handling |
| **Priority**       | Medium                      |
| **Automation**     | Manual                      |

### Path Validation

```csharp
try
{
    var filePath = saveFileDialog.FileName;
    if (string.IsNullOrEmpty(filePath))
    {
        return;
    }
    // Proceed with export
}
catch (IOException ex)
{
    ShowNotification("Lỗi đường dẫn file", NotificationType.Error);
}
```

### Invalid Path Scenarios

| Scenario           | Expected Behavior  |
| ------------------ | ------------------ |
| Empty path         | Abort export       |
| Read-only location | Error message      |
| Invalid characters | OS dialog prevents |

### Detailed Steps

| Step | Steps to Perform               | Step Expected Result    |
| ---- | ------------------------------ | ----------------------- |
| 1    | Click Export button            | Export initiated        |
| 2    | Enter invalid path or filename | Invalid path entered    |
| 3    | Click Save on dialog           | Save attempted          |
| 4    | Verify validation              | Graceful error handling |

### Pass/Fail Criteria

| Criteria        | Pass            | Fail             |
| --------------- | --------------- | ---------------- |
| Invalid handled | ✓ No crash      | ✗ Exception      |
| Error feedback  | ✓ Clear message | ✗ Silent failure |
| No partial file | ✓ Clean state   | ✗ Corrupt file   |
