# Test Case TC_BR46_002

## Verify Create() method inserts new hall into database

| Test Case ID | Test Case Description                                 | PreRequisites                                                                               | Steps | Steps to Perform                                                                                                                          | Step Expected Result                                                                                                                                | Test Case Expected Result                                                 | Actual Result | Status | Note |
| ------------ | ----------------------------------------------------- | ------------------------------------------------------------------------------------------- | ----- | ----------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------- | ------------- | ------ | ---- |
| TC_BR46_002  | Verify Create() method inserts new hall into database | 1. WMS application is installed<br>2. User is logged in<br>3. "Emerald" hall does not exist | 5     | 1. Click Add button<br>2. Enter valid hall data<br>3. Click Save button<br>4. Query database for new hall<br>5. Verify hall record exists | 1. Add mode active<br>2. Data entered<br>3. Save executed<br>4. SELECT \* FROM Hall WHERE HallName = 'Emerald'<br>5. Record found with correct data | HallService.Create() successfully inserts new hall record into Hall table |               |        |      |

---

## Test Case Details

### Basic Information

| Attribute          | Value                 |
| ------------------ | --------------------- |
| **Test Case ID**   | TC_BR46_002           |
| **Requirement ID** | BR46                  |
| **Use Case**       | UC 2.1.3.2 - Add Hall |
| **Test Type**      | Functional / Database |
| **Priority**       | Critical              |
| **Automation**     | Manual                |

### Service Method

```csharp
public async Task<Hall> Create(HallDTO hallDto)
{
    var hall = new Hall
    {
        HallName = hallDto.HallName,
        HallTypeId = hallDto.HallTypeId,
        MaxTableCount = hallDto.MaxTableCount,
        Note = hallDto.Note
    };
    _context.Halls.Add(hall);
    await _context.SaveChangesAsync();
    return hall;
}
```

### Database Verification

```sql
SELECT * FROM Hall WHERE HallName = 'Emerald'
-- Should return 1 row with correct data
```

### Detailed Steps

| Step | Steps to Perform            | Step Expected Result |
| ---- | --------------------------- | -------------------- |
| 1    | Click Add button            | Add mode active      |
| 2    | Enter valid hall data       | Data entered         |
| 3    | Click Save button           | Save executed        |
| 4    | Query database for new hall | SQL returns result   |
| 5    | Verify hall record exists   | Record found         |

### Pass/Fail Criteria

| Criteria         | Pass                | Fail            |
| ---------------- | ------------------- | --------------- |
| Record created   | ✓ 1 row inserted    | ✗ No row        |
| Data correct     | ✓ All fields match  | ✗ Data mismatch |
| HallId generated | ✓ Auto-increment ID | ✗ No ID         |
