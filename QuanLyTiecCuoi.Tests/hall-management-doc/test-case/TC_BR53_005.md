# Test Case TC_BR53_005

## Verify deletion handles non-existent hall gracefully

| Test Case ID | Test Case Description                                | PreRequisites                                                                                                          | Steps | Steps to Perform                                                                                                                 | Step Expected Result                                                                                                | Test Case Expected Result                                      | Actual Result | Status | Note |
| ------------ | ---------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------- | ----- | -------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------- | ------------- | ------ | ---- |
| TC_BR53_005  | Verify deletion handles non-existent hall gracefully | 1. WMS application is installed<br>2. User is logged in<br>3. Hall already deleted by another user (concurrent access) | 4     | 1. Select hall for deletion<br>2. Another user deletes the same hall<br>3. Confirm deletion on MSG41<br>4. Verify error handling | 1. Hall selected<br>2. Hall deleted externally<br>3. Deletion attempted<br>4. Graceful error handling, no exception | System handles concurrent deletion gracefully without crashing |               |        |      |

---

## Test Case Details

### Basic Information

| Attribute          | Value                       |
| ------------------ | --------------------------- |
| **Test Case ID**   | TC_BR53_005                 |
| **Requirement ID** | BR53                        |
| **Use Case**       | UC 2.1.3.4 - Delete Hall    |
| **Test Type**      | Functional / Error Handling |
| **Priority**       | Medium                      |
| **Automation**     | Manual                      |

### Error Handling Logic

```csharp
public async Task<bool> Delete(int hallId)
{
    var hall = await _context.Halls.FindAsync(hallId);
    if (hall == null)
    {
        return false;  // Hall not found, graceful handling
    }

    _context.Halls.Remove(hall);
    await _context.SaveChangesAsync();
    return true;
}
```

### Detailed Steps

| Step | Steps to Perform                   | Step Expected Result    |
| ---- | ---------------------------------- | ----------------------- |
| 1    | Select hall for deletion           | Hall selected           |
| 2    | Another user deletes the same hall | Hall deleted externally |
| 3    | Confirm deletion on MSG41          | Deletion attempted      |
| 4    | Verify error handling              | Graceful handling       |

### Pass/Fail Criteria

| Criteria       | Pass                   | Fail          |
| -------------- | ---------------------- | ------------- |
| No crash       | ✓ Graceful handling    | ✗ Exception   |
| Error message  | ✓ Appropriate feedback | ✗ No feedback |
| List refreshed | ✓ Shows current state  | ✗ Stale data  |
