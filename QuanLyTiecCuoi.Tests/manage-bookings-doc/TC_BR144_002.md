# Test Case TC_BR144_002

## Verify deletion reason logged

| Test Case ID | Test Case Description         | PreRequisites                                                                        | Steps | Steps to Perform                                                                                     | Step Expected Result                                                                                                              | Test Case Expected Result                | Actual Result | Status | Note |
| ------------ | ----------------------------- | ------------------------------------------------------------------------------------ | ----- | ---------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------- | ------------- | ------ | ---- |
| TC_BR144_002 | Verify deletion reason logged | 1. WMS application is installed<br>2. Staff logged in<br>3. Deletable booking exists | 4     | 1. Select booking<br>2. Click Delete<br>3. Enter deletion reason (if prompted)<br>4. Query audit log | 1. Booking selected<br>2. Delete dialog shown<br>3. Reason entered<br>4. Audit log contains: UserId, BookingId, Reason, Timestamp | Deletion reason is logged in audit trail |               |        |      |

---

## Test Case Details

### Basic Information

| Attribute          | Value                       |
| ------------------ | --------------------------- |
| **Test Case ID**   | TC_BR144_002                |
| **Requirement ID** | BR144                       |
| **Use Case**       | UC 2.1.5.3 - Delete Booking |
| **Test Type**      | Functional / Audit          |
| **Priority**       | Medium                      |
| **Automation**     | Manual                      |

### Audit Log Fields

| Field          | Description            |
| -------------- | ---------------------- |
| UserId         | Staff who deleted      |
| BookingId      | Deleted booking ID     |
| Action         | "DELETE"               |
| Reason         | Deletion reason        |
| Timestamp      | When deleted           |
| PreviousStatus | Status before deletion |

### Detailed Steps

| Step | Steps to Perform      | Step Expected Result |
| ---- | --------------------- | -------------------- |
| 1    | Select booking        | Booking selected     |
| 2    | Click Delete          | Delete dialog shown  |
| 3    | Enter deletion reason | Reason entered       |
| 4    | Query audit log       | Audit record found   |

### Pass/Fail Criteria

| Criteria         | Pass                    | Fail               |
| ---------------- | ----------------------- | ------------------ |
| Audit logged     | ✓ Record in audit trail | ✗ No audit record  |
| Reason captured  | ✓ Reason stored         | ✗ Reason not saved |
| Staff identified | ✓ UserId recorded       | ✗ No user info     |
