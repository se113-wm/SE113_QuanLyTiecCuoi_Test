# Test Case TC_BR138_001

## Verify query excludes cancelled bookings from availability

| Test Case ID | Test Case Description                                      | PreRequisites                                                                                                                                   | Steps | Steps to Perform                                                    | Step Expected Result                                                                              | Test Case Expected Result                                     | Actual Result | Status | Note |
| ------------ | ---------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------- | ----- | ------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------- | ------------------------------------------------------------- | ------------- | ------ | ---- |
| TC_BR138_001 | Verify query excludes cancelled bookings from availability | 1. WMS application is installed<br>2. Staff logged in<br>3. Hall A has cancelled booking on date X<br>4. No other bookings for Hall A on date X | 3     | 1. Select date X<br>2. Select shift<br>3. Check Hall A availability | 1. Date selected<br>2. Shift selected<br>3. Hall A shown as available (cancelled booking ignored) | Cancelled bookings are excluded from availability calculation |               |        |      |

---

## Test Case Details

### Basic Information

| Attribute          | Value                                       |
| ------------------ | ------------------------------------------- |
| **Test Case ID**   | TC_BR138_001                                |
| **Requirement ID** | BR138                                       |
| **Use Case**       | UC 2.1.5.1 - Check System Hall Availability |
| **Test Type**      | Functional / Business Rule                  |
| **Priority**       | Critical                                    |
| **Automation**     | Manual                                      |

### Booking Status Logic

| Status    | Include in Availability Check |
| --------- | ----------------------------- |
| Pending   | Yes (hall occupied)           |
| Confirmed | Yes (hall occupied)           |
| Cancelled | No (hall available)           |
| Completed | No (past event)               |

### Detailed Steps

| Step | Steps to Perform          | Step Expected Result      |
| ---- | ------------------------- | ------------------------- |
| 1    | Select date X             | Date selected             |
| 2    | Select shift              | Shift selected            |
| 3    | Check Hall A availability | Hall A shown as available |

### Pass/Fail Criteria

| Criteria              | Pass                                       | Fail                     |
| --------------------- | ------------------------------------------ | ------------------------ |
| Cancelled excluded    | ✓ Hall available despite cancelled booking | ✗ Hall shown as occupied |
| Query correct         | ✓ Only active bookings checked             | ✗ All bookings checked   |
| Availability accurate | ✓ Correct status shown                     | ✗ Wrong availability     |
