# Test Case TC_BR143_003

## Verify refund requirement notification for paid bookings

| Test Case ID | Test Case Description                                    | PreRequisites                                                                                 | Steps | Steps to Perform                                                            | Step Expected Result                                                                               | Test Case Expected Result                                     | Actual Result | Status | Note |
| ------------ | -------------------------------------------------------- | --------------------------------------------------------------------------------------------- | ----- | --------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------- | ------------- | ------ | ---- |
| TC_BR143_003 | Verify refund requirement notification for paid bookings | 1. WMS application is installed<br>2. Staff logged in<br>3. Booking with deposit/full payment | 3     | 1. Select paid booking<br>2. Click Delete<br>3. Observe refund notification | 1. Paid booking selected<br>2. Delete initiated<br>3. Notification: "Cần hoàn tiền cho khách hàng" | System notifies refund requirement when deleting paid booking |               |        |      |

---

## Test Case Details

### Basic Information

| Attribute          | Value                       |
| ------------------ | --------------------------- |
| **Test Case ID**   | TC_BR143_003                |
| **Requirement ID** | BR143                       |
| **Use Case**       | UC 2.1.5.3 - Delete Booking |
| **Test Type**      | Functional / Notification   |
| **Priority**       | High                        |
| **Automation**     | Manual                      |

### Notification Message

| Code | Vietnamese Message           | English Translation          |
| ---- | ---------------------------- | ---------------------------- |
| -    | Cần hoàn tiền cho khách hàng | Refund required for customer |

### Payment Status & Refund

| Payment Status | Paid Amount    | Refund Required |
| -------------- | -------------- | --------------- |
| Deposit        | > 0 VND        | Yes             |
| Partial        | > 0 VND        | Yes             |
| Full Payment   | = Total Amount | Yes             |
| Unpaid         | 0 VND          | No              |

### Detailed Steps

| Step | Steps to Perform            | Step Expected Result   |
| ---- | --------------------------- | ---------------------- |
| 1    | Select paid booking         | Paid booking selected  |
| 2    | Click Delete                | Delete initiated       |
| 3    | Observe refund notification | Notification displayed |

### Pass/Fail Criteria

| Criteria            | Pass                       | Fail              |
| ------------------- | -------------------------- | ----------------- |
| Refund notification | ✓ Message shown            | ✗ No notification |
| Amount displayed    | ✓ Refund amount shown      | ✗ No amount info  |
| Staff informed      | ✓ Clear refund requirement | ✗ Unclear process |
